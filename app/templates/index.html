<!DOCTYPE html>
<html>
<head>
	<title>Simulator</title>
	<style type="text/css">
		* {
			box-sizing: border-box;
			margin: 0px;
		}

		body {
			display: flex;
			flex-flow: row wrap;
		}

		header {
			height: 5vh;
			width: 100vw;
			background-color: lightgray;
			display: flex;
			justify-content: space-between;
		}

		#sidebar {
			width: 3vw;
			height: 95vh;
		}

		main {
			display: flex;
			flex-flow: row wrap; 
			width: 97vw;
			height: 95vh;
			position: relative;
		}


		header form {
			width: 40%;
			display: flex;
			flex-direction: row;
		}
		.min-input {
			float : left;
			width : 20%;
			background-color : rgba(0, 0, 0, 0);
			border-color : rgba(0, 0, 0, 0);
		}

		.slider {
			float: left;
			width: 50%;
			margin: 5px;
		}

		.max-input {
			float: left;
			width: 20%;
			background-color: rgba(0, 0, 0, 0);
			border-color: rgba(0, 0, 0, 0);
		}

		#tip {
			width: 200px;
			height: 50px;
			position: absolute;
			display: none;
			z-index: 50;
		}

		.column {
			height: 49.5%;
			bottom: 0px;
		}

		.column-seperator {
			width: 1%;
			cursor: col-resize;
			background-color: gray;
			border: 1px solid black;
		}

		#sim-mode {
			display: flex;
			flex-direction: row;
			width: 20%;
		}

		#sim-mode input {
			width: 100%;
			height: 100%;
			opacity: 0;
			position: absolute;
			top: 0px;
			left: 0px;
			cursor: pointer;
		}

		#sim-mode button {
			width: 100%;
			height: 100%;
			font-size: 30px;
		}

		#redraw-form {
			width: 7%;
		}

		#redraw-button {
			font-size: 30px;
			width: 100%;
		}

		#upload-wrapper {
			position: relative;
			height: 100%;
			width: 30%;
			overflow: hidden;
		}

		#upload-button {
			background-color: purple;
			height: 100%;
			width: 100%;
			font-size: 30px;
		}

		#file-select {
			position: absolute;
			top: 0px;
			left: 0px;
			font-size: 100px;
			opacity: 0;
			cursor: pointer;
		}

		.sim-num-wrapper {
			position: relative;
			height: 100%;
			width: 20%;
			overflow: hidden;
		}

		.sim-radio-wrapper {
			position: relative;
			height: 100%;
			width: 50%;
			overflow: hidden;
			background: green;
			border: 1px solid black;
		}

		.sidebar-wrapper {
			position: relative;
			width: 100%;
			border: 1px solid black;
		}

		#canvas {
			border: 1px solid blue;
			width: 100%;
			height: 49.5%;
			z-index: 10;
			flex-shrink: 0;
		}

		#row-seperator {
			height: 1%;
			width: 100%;
			background-color: gray;
			cursor: row-resize;
			border: 1px solid black;
			z-index: 11;
		}

		#parameter-menu {
			background-color: lightblue;
			width: 24%;
			display: flex;
			justify-content: space-around;
			align-items: center;
		}

		#parameter-list {
			height: 80%;
			width: 20%;
		}

		#sliders {
			height: 80%;
			width: 60%;
			border: 1px solid gray;
			list-style: none;
			display: flex;
			flex-flow: column;
			overflow: hidden;
			overflow-y: scroll;
			padding-left: 0px;
		}

		#graph-control {
			background-color: lightgreen;
			width: 24%;
		}

		#chart-container {
			width: 50%;
		}

		#chart {
			bottom: 0%;
			background-color: white;
			display: none;
		}

		.sidebar-wrapper img {
			width: 100%;
			height: 100%;
		}

		.sidebar-wrapper input {
			opacity: 0;
			overflow: hidden;
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0px;
			left: 0px;
			cursor: pointer;
		}
	</style>
	<script src="{{ url_for('static', filename='js/drawgraph.js') }}"></script>
	<script src="{{ url_for('static', filename='js/lib/Chart.min.js') }}"></script>
	<script src="{{ url_for('static', filename='js/lib/socket.io.min.js') }}"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.css"/>
	<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
	<!-- OR -->
	<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.es5.min.js"></script>
</head>
<body>
	<header>
		<img src="{{ url_for('static', filename='images/plot.png') }}" width="25" height="25">
		<div id="upload-wrapper">
			<button id="upload-button">Upload Model</button>
			<input type="file" id="file-select" name="sbml" />
		</div>
		<form id="redraw-form" action="redraw" method="post">
			<button type="submit" id="redraw-button">Redraw</button>
		</form>
		<div id="sim-mode">
			<div class="sim-radio-wrapper">
				<button id="offline-button">Offline</button>
				<input type="radio" name="menu" id="offline" value="offline" checked />
			</div>
			<div class="sim-radio-wrapper">
				<button id="online-button">Online</button>
				<input type="radio" name="menu" id="online" value="online" />
			</div>
		</div>
		<form id="offline-form" class="sim-form" method="post">
			<div class="sim-num-wrapper">	
				<label for="start-offline">Start Time</label>
				<input type="number" id="start-offline" min="0" value="0" />
			</div>
			<div class="sim-num-wrapper">					
				<label for="end-offline">End Time</label>
				<input type="number" id="end-offline" min="0" value="10" />
			</div>
			<div class="sim-num-wrapper">					
				<label for="step-offline">Num Steps</label>
				<input type="number" id="step-offline" min="2" value="100" />
			</div>
			<button type="submit" id="run-button">Run</button>
		</form>
		<form id="online-form" class="sim-form" method="post" style="display: none;">
			<div class="sim-num-wrapper">					
				<label for="start-online">Start Time</label>
				<input type="number" id="start-online" min="0" value="0" />
			</div>
			<div class="sim-num-wrapper">					
				<label for="frequency-online">Frequency</label>
				<input type="number" id="frequency-online" min="0" value="1" />
			</div>
			<div class="sim-num-wrapper">
				<label for="step-online">Step Size</label>
				<input type="number" id="step-online" min="2" value="2" />
			</div>
			<button type="submit" id="start-button">Start</button>
		</form>
		<form id="start-menu" style="display: none;">
			<input type="radio" name="menu" id="from-0" value="from-0" checked />
			<label for="from-0">From 0</label>
			<input type="radio" name="menu" id="window" value="window" />
			<label for="window">Window</label>
			<input type="number" id="window-steps">
		</form>
	</header>
	<div id='sidebar'>
		<div class="sidebar-wrapper">
			<button id="select-button"></button>
			<input type="radio" name="menu" id="select" value="select" checked />
		</div>
		<div class="sidebar-wrapper">
			<img id="plot-button" title="plot" src="{{ url_for('static', filename='images/plot.png') }}">
			<input type="radio" name="menu" id="plot" value="plot" />
		</div>
		<div class="sidebar-wrapper">
			<button id="data-button"></button>
			<input type="radio" name="menu" id="data" value="data" />
		</div>
	</div>
	<main>
		<canvas id="canvas"></canvas>
		<div id='row-seperator'></div>
		<div id="parameter-menu" class="column">	
			<select id="parameter-list" size="3"></select>
			<ul id="sliders"></ul>
		</div>
		<div class="column column-seperator"></div>
		<div id="graph-control" class="column">
			<p>Reaction Color:</p><br />
			<label for="reaction-fill">Fill</label>
			<input class="reaction-fill" value="ab2567" id="reaction-fill" />
			<label for="reaction-edge">Edge</label>
			<input class="reaction-edge" value="ab2567" id="reaction-edge" /><br />
			<p>Node Color:</p><br />
			<label for="node-fill">Fill</label>
			<input class="node-fill" value="ab2567" id="node-fill" />
			<label for="node-edge">Edge</label>
			<input class="node-edge" value="ab2567" id="node-edge" /><br />
			<label for="line-thickness-editor">Line Thickness</label>
			<input type="number" id="line-thickness-editor" min="0" />
			<label for="stiffness">Stiffness</label>
			<input type="number" name="stiffness" id="stiffness" min="0" value="50" /><br />
			<label for="gravity">Gravity</label>
			<input type="number" name="gravity" id="gravity" min="0" value="0" step="0.1" /><br />
			<a href="" download="sbml.xml" id="sbml-download">Download Model</a>
			<button id="select-all">Select All</button>
			<select id="select-list" multiple></select>
		</div>
		<div class="column column-seperator"></div>
		<div id="chart-container" class="column">
			<canvas id="chart"></canvas>
		</div>
	</main>
</body>
</html>