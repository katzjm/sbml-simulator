<!DOCTYPE html>
<html>
<head>
	<title>Simulator</title>
	<style type="text/css">
		* {
			box-sizing: border-box;
			margin: 0px;
		}

		body {
			display: flex;
			flex-flow: row wrap;
		}

		header {
			height: 5vh;
			width: 100vw;
			background-color: lightgray;
			display: flex;
			justify-content: space-between;
		}

		#sidebar {
			width: 49px;
			height: 95vh;
			display: flex;
			flex-flow: column;
		}

		#sidebar > div {
			display: flex;
			flex-direction: column;
			justify-content: space-around;
		}

		select {
			text-align: center;
		}

		main {
			display: flex;
			flex-flow: row wrap; 
			width: 97vw;
			height: 95vh;
			position: relative;
		}


		header form {
			width: 50%;
			display: flex;
			flex-direction: row;
		}

		input[type=radio]:checked + button {
			background-color: purple;
		}

		.min-input {
			float : left;
			width : 20%;
			background-color : rgba(0, 0, 0, 0);
			border-color : rgba(0, 0, 0, 0);
			text-align: right;
		}

		.slider {
			float: left;
			width: 50%;
			margin: 5px;
		}

		.max-input {
			float: left;
			width: 20%;
			background-color: rgba(0, 0, 0, 0);
			border-color: rgba(0, 0, 0, 0);
		}

		#tip {
			width: 200px;
			height: 50px;
			position: absolute;
			display: none;
			z-index: 50;
		}

		.column {
			height: 49.5%;
			bottom: 0px;
		}

		.column-seperator {
			width: 1%;
			cursor: col-resize;
			background-color: gray;
			border: 1px solid black;
		}

		#sim-mode {
			display: flex;
			flex-direction: row;
			width: 40%;
		}

		#sim-mode input {
			width: 100%;
			height: 100%;
			opacity: 0;
			position: absolute;
			top: 0px;
			left: 0px;
			cursor: pointer;
		}

		#sim-mode button {
			width: 100%;
			height: 100%;
			font-size: 30px;
		}

		#redraw-form {
			width: 20%;
		}

		#redraw-button {
			font-size: 30px;
			width: 100%;
		}

		#upload-wrapper {
			position: relative;
			height: 100%;
			width: 50%;
			overflow: hidden;
		}

		#upload-button {
			background-color: purple;
			height: 100%;
			width: 100%;
			font-size: 30px;
		}

		#file-select {
			position: absolute;
			top: 0px;
			left: 0px;
			font-size: 100px;
			opacity: 0;
			cursor: pointer;
		}

		.sim-num-wrapper {
			position: relative;
			height: 100%;
			width: 40%;
			overflow: hidden;
		}

		.sim-radio-wrapper {
			position: relative;
			height: 100%;
			width: 50%;
			overflow: hidden;
			background: green;
			border: 1px solid black;
		}

		.sidebar-wrapper {
			position: relative;
			width: 100%;
			border: 1px solid black;
			display: flex;
			justify-content: center;
		}

		#canvas {
			border: 1px solid blue;
			width: 100%;
			height: 100%;
			z-index: 10;
		}

		#canvas-container {
			height: 49.5%;
			width: 100%;
			flex-shrink: 0;
			position: relative;
		}

		#row-seperator {
			height: 1%;
			width: 100%;
			background-color: gray;
			cursor: row-resize;
			border: 1px solid black;
			z-index: 11;
		}

		#parameter-menu {
			background-color: lightblue;
			width: 49.5%;
			display: flex;
			flex-flow: row wrap;
			justify-content: space-evenly;
			align-items: center;
			text-align: center;
		}

		#parameter-list {
			height: 80%;
			width: 20%;
			font-size: 20px;
			border-radius: 10px;
			border: 5px solid darkgray;
		}

		#sliders {
			height: 80%;
			width: 60%;
			border: 5px solid darkgray;
			list-style: none;
			display: flex;
			flex-flow: column;
			overflow: hidden;
			overflow-y: scroll;
			padding-left: 0px;
			border-radius: 10px;
			background-color: rgba(0, 0, 255, 0.1);
		}

		#sliders li {
			border: 1px solid black;
			background-color: lightgrey;
			border-radius: 5px;

		}

		#graph-control {
			background-color: lightgreen;
			width: 24%;
		}

		#chart-container {
			width: 49.5%;
		}

		#chart {
			bottom: 0%;
			background-color: white;
			display: none;
		}

		.sidebar-slider {
			height: 12.9vh;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.sidebar-wrapper i {
			font-size: 2.5vw;
		}

		.sidebar-wrapper button {
			display: flex;
			justify-content: center;
		}

		.sidebar-wrapper img {
			width: 100%;
			height: 6vh;
		}

		.sidebar-wrapper input[type=radio] {
			opacity: 0;
			overflow: hidden;
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0px;
			left: 0px;
			cursor: pointer;
		}

		.sidebar-wrapper input[type=range] {
			width: 75px;
			height: 2px;
			margin: 0;
			transform-origin: center;
			transform: rotate(-90deg);
		}

		#canvas-time {
			width: 95%;
			position: absolute;
			bottom: 3px;
			left: 2.5%;
		}

		#sidebar .pickr button {
			width: 100%;
		}

		#gradient {
			height: 10vh;
			width: 100%;
			background: linear-gradient(to bottom, lightblue, pink);
		}

		#art-palette {
			position: absolute;
			left: 5px;
			top: 20%;
			background: tan;
			display: none;
			flex-flow: row wrap;
			align-items: center;
			align-content: center;
			border-radius: 5px;
			z-index: 100;
			width: 150px;
		}

		#art-palette .pickr, .palette-slider {
			width: 70%;
		}

		#art-palette .pickr button {
			width: 100%;
		}

		#art-palette input {
			width: 100%;
		}

		#art-palette i {
			font-size: 1.5vw;
			width: 25%;
		}

		.palette-container {
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
		}

		#left-header {
			display: flex;
			flex-direction: row;
			width: 50vw;
			justify-content: flex-start;
		}

		#right-header {
			display: flex;
			flex-direction: row;
			justify-content: flex-end;
			width: 50vw;
		}

		header button[type=submit] {
			width: 20%;
		}

		.fa-play {
			font-size: 300%;
		}
	</style>
	<script src="{{ url_for('static', filename='js/drawgraph.js') }}"></script>
	<script src="{{ url_for('static', filename='js/lib/Chart.min.js') }}"></script>
	<script src="{{ url_for('static', filename='js/lib/socket.io.min.js') }}"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.css"/>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
	<!-- OR -->
	<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.es5.min.js"></script>
</head>
<body>
	<header>
		<div id="left-header">
			<div id="upload-wrapper">
				<button id="upload-button">Upload Model</button>
				<input type="file" id="file-select" name="sbml" />
			</div>
			<form id="redraw-form" action="redraw" method="post">
				<button type="submit" id="redraw-button">Redraw</button>
			</form>
		</div>
		<div id="right-header">
			<div id="sim-mode">
				<div class="sim-radio-wrapper">
					<button id="offline-button">Offline</button>
					<input type="radio" name="menu" id="offline" value="offline" checked />
				</div>
				<div class="sim-radio-wrapper">
					<button id="online-button">Online</button>
					<input type="radio" name="menu" id="online" value="online" />
				</div>
			</div>
			<form id="offline-form" class="sim-form" method="post">
				<div class="sim-num-wrapper">	
					<label for="start-offline">Start Time</label>
					<input type="number" id="start-offline" min="0" value="0" />
				</div>
				<div class="sim-num-wrapper">					
					<label for="end-offline">End Time</label>
					<input type="number" id="end-offline" min="0" value="300" />
				</div>
				<div class="sim-num-wrapper">					
					<label for="step-offline">Num Steps</label>
					<input type="number" id="step-offline" min="2" value="101" />
				</div>
				<button type="submit" id="run-button"><i class="fas fa-play"></i></button>
			</form>
			<form id="online-form" class="sim-form" method="post" style="display: none;">
				<div class="sim-num-wrapper">					
					<label for="start-online">Start Time</label>
					<input type="number" id="start-online" min="0" value="0" />
				</div>
				<div class="sim-num-wrapper">					
					<label for="frequency-online">Frequency</label>
					<input type="number" id="frequency-online" min="0" value="1" />
				</div>
				<div class="sim-num-wrapper">
					<label for="step-online">Step Size</label>
					<input type="number" id="step-online" min="2" value="2" />
				</div>
				<button type="submit" id="start-button"><i class="fas fa-play"></i></button>
			</form>
			<form id="start-menu" style="display: none;">
				<input type="radio" name="menu" id="from-0" value="from-0" checked />
				<label for="from-0">From 0</label>
				<input type="radio" name="menu" id="window" value="window" />
				<label for="window">Window</label>
				<input type="number" id="window-steps">
			</form>
		</div>
	</header>
	<div id='sidebar'>
		<div class="sidebar-wrapper">
			<input type="radio" name="menu" id="select" value="select" checked />
			<button id="select-button"><i class="fas fa-syringe"></i></button>
		</div>
		<div class="sidebar-wrapper">
			<input type="radio" name="menu" id="plot" value="plot" />
			<button><i class="fas fa-chart-line"></i></button>
		</div>
		<div class="sidebar-wrapper">
			<input type="radio" name="menu" id="data" value="data" />
			<button><i class="fas fa-palette"></i></button>
		</div>
		<div class="sidebar-wrapper">
			<a href="" download="sbml.xml" id="sbml-download">
				<button><i class="fas fa-file-download"></i></button>
			</a>
		</div>
		<div class="sidebar-wrapper">
			<input class="sidebar-color" value="ab2567" id="hi-color" />
			<canvas id="gradient"></canvas>
			<input class="sidebar-color" value="ab2567" id="lo-color" />
		</div>
		<div class="sidebar-wrapper">
			<button id="select-all">Select All</button>
			<select id="select-list" style="height: 15vh;" multiple></select>
		</div>
		<div class="sidebar-wrapper">
			<img src="{{ url_for('static', filename='images/spring.png') }}">
			<div class="sidebar-slider">
				<input type="range" name="stiffness" id="stiffness" min="0" value="50" />
			</div>
		</div>
		<div class="sidebar-wrapper">
			<img src="{{ url_for('static', filename='images/gravity.png') }}">
			<div class="sidebar-slider">
				<input type="range" name="gravity" id="gravity" min="0" value="0" step="0.1" />
			</div>
		</div>
	</div>
	<main>
		<div id="art-palette">
			<h1>Reaction</h1>
			<div class="palette-container">
				<i class="material-icons">lens</i>
				<input id="reaction-edge" />
			</div>
			<div class="palette-container">
				<i class="material-icons">line_weight</i>
				<div class="palette-slider">
					<input type="range" id="line-thickness" min="0" max="5" step="0.1"/>
				</div>
			</div>
			<h1>Node</h1>
			<div class="palette-container">
				<i class="material-icons">lens</i>
				<input id="node-fill" />
			</div>
			<div class="palette-container">
				<i class="material-icons">panorama_fish_eye</i>
				<input id="node-edge" />
			</div>
		</div>
		<div id="canvas-container">
			<canvas id="canvas"></canvas>
			<input type="range" name="time" id="canvas-time" />
		</div>
		<div id='row-seperator'></div>
		<div id="parameter-menu" class="column">
			<div style="width: 200%;">
				<h1>Parameters</h1>
			</div>	
			<select id="parameter-list" size="3"></select>
			<ul id="sliders"></ul>
		</div>
		<div class="column column-seperator"></div>
		<div id="chart-container" class="column">
			<canvas id="chart"></canvas>
		</div>
	</main>
</body>
</html>